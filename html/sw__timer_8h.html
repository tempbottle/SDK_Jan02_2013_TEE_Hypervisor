<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>sw_timer.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_6aeebb853ebd8c514e6186653c592c82.html">otzone</a></li><li class="navelem"><a class="el" href="dir_fb44076c8b62c63869cf8a830933e50d.html">src</a></li><li class="navelem"><a class="el" href="dir_ae72a19de923b7f4b595b906221fc8f6.html">core</a></li><li class="navelem"><a class="el" href="dir_c25868e378d53580eae20cb1da518f52.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sw_timer.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="sw__types_8h_source.html">sw_types.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="sw__list_8h_source.html">sw_list.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="sw__semaphores_8h_source.html">sw_semaphores.h</a>&gt;</code><br/>
</div>
<p><a href="sw__timer_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">union &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="uniontimeval__t.html">timeval_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure to represent the time in High resolution format( Resolution in Nano seconds)  <a href="uniontimeval__t.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimer__clock__info.html">timer_clock_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimer__cpu__info.html">timer_cpu_info</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimer__event.html">timer_event</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa3b72f780a1df833e4db506bf5a6bee0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#aa3b72f780a1df833e4db506bf5a6bee0">NSECS_PER_SEC</a>&#160;&#160;&#160;1000000000L</td></tr>
<tr class="separator:aa3b72f780a1df833e4db506bf5a6bee0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b2fd1a5f6b88bf3842ba3663e6f85e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a35b2fd1a5f6b88bf3842ba3663e6f85e">TIMEVAL_MAX</a>&#160;&#160;&#160;(((<a class="el" href="sw__types_8h.html#a4258bfb2c3a440d06c4aaa3c2b450dde">s64</a>)~((<a class="el" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)1 &lt;&lt; 63)) &amp; (~((<a class="el" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)0xFFFFFFFF)))</td></tr>
<tr class="separator:a35b2fd1a5f6b88bf3842ba3663e6f85e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a929f3a2522dbb7c737b5cd2493760af6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a929f3a2522dbb7c737b5cd2493760af6">MAX_NUM_OF_TIMERS</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a929f3a2522dbb7c737b5cd2493760af6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fe05d0f8f4b530c917954508864ef67"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a1fe05d0f8f4b530c917954508864ef67">TIMER_STATE_INACTIVE</a>&#160;&#160;&#160;0x00</td></tr>
<tr class="separator:a1fe05d0f8f4b530c917954508864ef67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3ee6fd61424b1eafc3b491bb0e1d07"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a9a3ee6fd61424b1eafc3b491bb0e1d07">TIMER_STATE_ACTIVE</a>&#160;&#160;&#160;0x01</td></tr>
<tr class="separator:a9a3ee6fd61424b1eafc3b491bb0e1d07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb59caa6c3e7f02e7a6502395c5a1b9d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#afb59caa6c3e7f02e7a6502395c5a1b9d">TIMER_STATE_PENDING</a>&#160;&#160;&#160;0x02</td></tr>
<tr class="separator:afb59caa6c3e7f02e7a6502395c5a1b9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0744ace9008c6b1ef132f350120ac579"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a0744ace9008c6b1ef132f350120ac579">TIMER_STATE_EXECUTING</a>&#160;&#160;&#160;0x04</td></tr>
<tr class="separator:a0744ace9008c6b1ef132f350120ac579"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:af2a1579b25ee1ac4bddd632dff9276a4"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#af2a1579b25ee1ac4bddd632dff9276a4">sw_timer_event_handler</a> )(struct <a class="el" href="structtimer__event.html">timer_event</a> *)</td></tr>
<tr class="separator:af2a1579b25ee1ac4bddd632dff9276a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ab435e99d43ff4980f2935354e41da10f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10f">timer_callback_mode</a> { <a class="el" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10faeb69f08e62e219f4f3f2b36e7d6b27eb">TIMER_CALLBACK_SOFTIRQ</a>, 
<a class="el" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10faebefe66542afed94c25f2d85b2399c48">TIMER_CALLBACK_HARDIRQ</a>, 
<a class="el" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10fafe50894bf8d9fcd3dc0422dc02d77a9e">TIMER_CALLBACK_HARDIRQ_NORESTART</a>
 }</td></tr>
<tr class="separator:ab435e99d43ff4980f2935354e41da10f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77449f9ff24439274343827ec494a64"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#ad77449f9ff24439274343827ec494a64">timer_cbfn_return_value</a> { <a class="el" href="sw__timer_8h.html#ad77449f9ff24439274343827ec494a64a9ac0f458d2173c9e98cfddd7ecf40e50">TIMER_RESTART</a>, 
<a class="el" href="sw__timer_8h.html#ad77449f9ff24439274343827ec494a64aa20d96cac05429b536df7158970db083">TIMER_NORESTART</a>
 }</td></tr>
<tr class="separator:ad77449f9ff24439274343827ec494a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a37105580638257400682808d9dd0d684"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtimer__event.html">timer_event</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a37105580638257400682808d9dd0d684">timer_event_create</a> (<a class="el" href="sw__timer_8h.html#af2a1579b25ee1ac4bddd632dff9276a4">sw_timer_event_handler</a> handler, void *priv_data)</td></tr>
<tr class="memdesc:a37105580638257400682808d9dd0d684"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called to create a new timer event. It allocates the memory for timer event struct, initializes the elements and returns the structure. If it cannot allocate the memory then it returns NULL.  <a href="#a37105580638257400682808d9dd0d684"></a><br/></td></tr>
<tr class="separator:a37105580638257400682808d9dd0d684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0060dc3f865566f66c7a445533afb847"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a0060dc3f865566f66c7a445533afb847">timer_event_destroy</a> (struct <a class="el" href="structtimer__event.html">timer_event</a> *tevent)</td></tr>
<tr class="memdesc:a0060dc3f865566f66c7a445533afb847"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function deletes the timer event structure After expiration of the timer ,the application can choose to keep and reuse the same structure again or delete it.If it decides to delete the structure then this function is called. This function frees the memory.  <a href="#a0060dc3f865566f66c7a445533afb847"></a><br/></td></tr>
<tr class="separator:a0060dc3f865566f66c7a445533afb847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9578a02129a7b5c79e395fe76d4562c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#ae9578a02129a7b5c79e395fe76d4562c">timer_event_start</a> (struct <a class="el" href="structtimer__event.html">timer_event</a> *tevent, <a class="el" href="uniontimeval__t.html">timeval_t</a> *time)</td></tr>
<tr class="memdesc:ae9578a02129a7b5c79e395fe76d4562c"><td class="mdescLeft">&#160;</td><td class="mdescRight">It starts the timer event by calling the appropriate functions The time interval is written to the hardwire timer and the event is added to the list of events to be handled on timer expiry.  <a href="#ae9578a02129a7b5c79e395fe76d4562c"></a><br/></td></tr>
<tr class="separator:ae9578a02129a7b5c79e395fe76d4562c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13c8fa1f0e26c42abddfcda14bdb07b6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a13c8fa1f0e26c42abddfcda14bdb07b6">__free_running_cntr_intr</a> (void)</td></tr>
<tr class="memdesc:a13c8fa1f0e26c42abddfcda14bdb07b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function updates the timestamp This function is called only when the free running counter interrupt is generated.(When free running counter reaches zero this interrupt arises and after that the counter reload itself to the max value(mostly 0xFFFFFFFF) and continue to count down)  <a href="#a13c8fa1f0e26c42abddfcda14bdb07b6"></a><br/></td></tr>
<tr class="separator:a13c8fa1f0e26c42abddfcda14bdb07b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26ea71463f065aaa1db5e341990adc7d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a26ea71463f065aaa1db5e341990adc7d">read_timestamp</a> (void)</td></tr>
<tr class="memdesc:a26ea71463f065aaa1db5e341990adc7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">It updates and returns the current timestamp value.  <a href="#a26ea71463f065aaa1db5e341990adc7d"></a><br/></td></tr>
<tr class="separator:a26ea71463f065aaa1db5e341990adc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ac98981aa3fa8b3464dd10584116865"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a3ac98981aa3fa8b3464dd10584116865">timer_interrupt</a> (void)</td></tr>
<tr class="memdesc:a3ac98981aa3fa8b3464dd10584116865"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the function which is called on expiry of any timer event. This fn goes through the list of registered timer events. If the expiry time of the event is already in the past then the corresponding handler function is called. As the list is already sorted according to their time of expiration, the function returns either when it encounters the first event whose expiry time is in the future or when the list becomes empty.  <a href="#a3ac98981aa3fa8b3464dd10584116865"></a><br/></td></tr>
<tr class="separator:a3ac98981aa3fa8b3464dd10584116865"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e58ddfe9637a6c6f7d1b636fb741904"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a9e58ddfe9637a6c6f7d1b636fb741904">init_sw_timer</a> (void)</td></tr>
<tr class="memdesc:a9e58ddfe9637a6c6f7d1b636fb741904"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function initializes the Timer structure variables.  <a href="#a9e58ddfe9637a6c6f7d1b636fb741904"></a><br/></td></tr>
<tr class="separator:a9e58ddfe9637a6c6f7d1b636fb741904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80a9cef76712fd40db49dba06813eb3f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a80a9cef76712fd40db49dba06813eb3f">timeval_after</a> (const <a class="el" href="uniontimeval__t.html">timeval_t</a> *value1, const <a class="el" href="uniontimeval__t.html">timeval_t</a> *value2)</td></tr>
<tr class="memdesc:a80a9cef76712fd40db49dba06813eb3f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether value 1 comes after value2 If yes returns 1 else returns 0.  <a href="#a80a9cef76712fd40db49dba06813eb3f"></a><br/></td></tr>
<tr class="separator:a80a9cef76712fd40db49dba06813eb3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac14b7e4a7b23dcdaea725724be0119c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#ac14b7e4a7b23dcdaea725724be0119c9">get_clock_period_us</a> (void)</td></tr>
<tr class="separator:ac14b7e4a7b23dcdaea725724be0119c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a0c89d2e15ec3253dc8b4c3da918aa080"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structtimer__cpu__info.html">timer_cpu_info</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sw__timer_8h.html#a0c89d2e15ec3253dc8b4c3da918aa080">timer_cpu_info</a></td></tr>
<tr class="separator:a0c89d2e15ec3253dc8b4c3da918aa080"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="a929f3a2522dbb7c737b5cd2493760af6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_NUM_OF_TIMERS&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00036">36</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa3b72f780a1df833e4db506bf5a6bee0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NSECS_PER_SEC&#160;&#160;&#160;1000000000L</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00032">32</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9a3ee6fd61424b1eafc3b491bb0e1d07"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_STATE_ACTIVE&#160;&#160;&#160;0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00041">41</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0744ace9008c6b1ef132f350120ac579"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_STATE_EXECUTING&#160;&#160;&#160;0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00045">45</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1fe05d0f8f4b530c917954508864ef67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_STATE_INACTIVE&#160;&#160;&#160;0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00039">39</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="afb59caa6c3e7f02e7a6502395c5a1b9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_STATE_PENDING&#160;&#160;&#160;0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00043">43</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<a class="anchor" id="a35b2fd1a5f6b88bf3842ba3663e6f85e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMEVAL_MAX&#160;&#160;&#160;(((<a class="el" href="sw__types_8h.html#a4258bfb2c3a440d06c4aaa3c2b450dde">s64</a>)~((<a class="el" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)1 &lt;&lt; 63)) &amp; (~((<a class="el" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a>)0xFFFFFFFF)))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00035">35</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="af2a1579b25ee1ac4bddd632dff9276a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* sw_timer_event_handler)(struct <a class="el" href="structtimer__event.html">timer_event</a> *)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00128">128</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ab435e99d43ff4980f2935354e41da10f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10f">timer_callback_mode</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ab435e99d43ff4980f2935354e41da10faeb69f08e62e219f4f3f2b36e7d6b27eb"></a>TIMER_CALLBACK_SOFTIRQ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab435e99d43ff4980f2935354e41da10faebefe66542afed94c25f2d85b2399c48"></a>TIMER_CALLBACK_HARDIRQ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ab435e99d43ff4980f2935354e41da10fafe50894bf8d9fcd3dc0422dc02d77a9e"></a>TIMER_CALLBACK_HARDIRQ_NORESTART</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00063">63</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>
<div class="fragment"><div class="line">                         {</div>
<div class="line">    <span class="comment">/* The handler function should be run in softirq*/</span></div>
<div class="line">    <a class="code" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10faeb69f08e62e219f4f3f2b36e7d6b27eb">TIMER_CALLBACK_SOFTIRQ</a>,</div>
<div class="line">    <span class="comment">/* The handler function should be run in hardirq context itself*/</span></div>
<div class="line">    <a class="code" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10faebefe66542afed94c25f2d85b2399c48">TIMER_CALLBACK_HARDIRQ</a>,</div>
<div class="line">    <span class="comment">/* The handler function should be executed in hardirq and it should not</span></div>
<div class="line"><span class="comment">     * restart the timer*/</span></div>
<div class="line">    <a class="code" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10fafe50894bf8d9fcd3dc0422dc02d77a9e">TIMER_CALLBACK_HARDIRQ_NORESTART</a></div>
<div class="line">};</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ad77449f9ff24439274343827ec494a64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="sw__timer_8h.html#ad77449f9ff24439274343827ec494a64">timer_cbfn_return_value</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ad77449f9ff24439274343827ec494a64a9ac0f458d2173c9e98cfddd7ecf40e50"></a>TIMER_RESTART</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ad77449f9ff24439274343827ec494a64aa20d96cac05429b536df7158970db083"></a>TIMER_NORESTART</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="sw__timer_8h_source.html#l00076">76</a> of file <a class="el" href="sw__timer_8h_source.html">sw_timer.h</a>.</p>
<div class="fragment"><div class="line">                            {</div>
<div class="line">    <a class="code" href="sw__timer_8h.html#ad77449f9ff24439274343827ec494a64a9ac0f458d2173c9e98cfddd7ecf40e50">TIMER_RESTART</a>,</div>
<div class="line">    <a class="code" href="sw__timer_8h.html#ad77449f9ff24439274343827ec494a64aa20d96cac05429b536df7158970db083">TIMER_NORESTART</a></div>
<div class="line">};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a13c8fa1f0e26c42abddfcda14bdb07b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void __free_running_cntr_intr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function updates the timestamp This function is called only when the free running counter interrupt is generated.(When free running counter reaches zero this interrupt arises and after that the counter reload itself to the max value(mostly 0xFFFFFFFF) and continue to count down) </p>
<p>Otherwise the timestamp is updated by read_timestamp function </p>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00280">280</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <a class="code" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a> tmp_cycles;</div>
<div class="line">    <a class="code" href="uniontimeval__t.html" title="Structure to represent the time in High resolution format( Resolution in Nano seconds)">timeval_t</a> tmp_timeval;</div>
<div class="line"></div>
<div class="line">    sw_timer_info.cycles_count_new = <a class="code" href="sw__board_8h.html#a5fa8edeaaac08a1c8c927cde7ead26de">TIMER_COUNT_MAX</a>;   </div>
<div class="line">    tmp_cycles = sw_timer_info.cycles_count_new - </div>
<div class="line">                                    sw_timer_info.cycles_count_old;</div>
<div class="line"></div>
<div class="line">    sw_timer_info.abs_cycles_count += tmp_cycles;</div>
<div class="line">    sw_timer_info.cycles_count_old = 0;</div>
<div class="line"></div>
<div class="line">    tmp_timeval.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="cpu__api_8c.html#a1c97425d04c5c0494e087de87bf2c18c" title="This function converts the clockcycles to time in seconds and nanoseconds This function definition de...">clockcycles_to_timeval</a>(tmp_cycles);</div>
<div class="line">    sw_timer_info.sw_timestamp.tval64 = timeval_add(&amp;sw_timer_info.sw_timestamp,</div>
<div class="line">                                                                &amp;tmp_timeval);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac14b7e4a7b23dcdaea725724be0119c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#a10e94b422ef0c20dcdec20d31a1f5049">u32</a> get_clock_period_us </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

</div>
</div>
<a class="anchor" id="a9e58ddfe9637a6c6f7d1b636fb741904"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_sw_timer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function initializes the Timer structure variables. </p>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00062">62</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="comment">/* TODO :Later, this function should be made to read values</span></div>
<div class="line"><span class="comment">     * from Device Tree */</span></div>
<div class="line">    <span class="keywordtype">int</span> iter;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#aa79880aaf690b1462cd9dc48d196079d">expires_next</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="sw__timer_8h.html#a35b2fd1a5f6b88bf3842ba3663e6f85e">TIMEVAL_MAX</a>;</div>
<div class="line">    <a class="code" href="sw__list_8h.html#a0ffe9d28c36d7b018a9cfae33bae45c0">INIT_LIST_HEAD</a>(&amp;<a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#a247df8c592cc7f8766d4856b134dc0b3">pending_routines</a>);</div>
<div class="line">    <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#a9906377953463856f7602c0837ad1e51">num_events</a> = 0;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">for</span>(iter = 0; iter &lt; <a class="code" href="sw__timer_8h.html#a929f3a2522dbb7c737b5cd2493760af6">MAX_NUM_OF_TIMERS</a>; iter++)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[iter].<a class="code" href="structtimer__clock__info.html#a5625d6bd91d526ee959b8544b157af83">cpu_info</a> = &amp;<a class="code" href="sw__timer_8h.html#a0c89d2e15ec3253dc8b4c3da918aa080">timer_cpu_info</a>;</div>
<div class="line">        <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[iter].<a class="code" href="structtimer__clock__info.html#a3073cfbb525a7ad406a8fbd49b0757b0">clock_id</a> = iter;</div>
<div class="line">        <a class="code" href="sw__list_8h.html#a0ffe9d28c36d7b018a9cfae33bae45c0">INIT_LIST_HEAD</a>(&amp;<a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[iter].<a class="code" href="structtimer__clock__info.html#a297fe3a0fc7efdc467d0b534bd5c8aae">active</a>);</div>
<div class="line">        <a class="code" href="sw__semaphores_8h.html#a3e2192a82f8890c9fc1c37866a6973bb">INIT_SPIN_LOCK</a>(&amp;<a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[iter].<a class="code" href="structtimer__clock__info.html#ab36d9db5095d55de592fbf79fbabddb4">spin_lock</a>);</div>
<div class="line">        <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[iter].<a class="code" href="structtimer__clock__info.html#aa9f75d46f84066afd21744a215b15a2d">clock_period</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = </div>
<div class="line">                                                        <a class="code" href="global_8h.html#a1d1a50120ee870d594c772846ae7b638" title="This function returns the resolution which can be obtained with the given clock.">get_clock_period</a>();</div>
<div class="line">        <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[iter].<a class="code" href="structtimer__clock__info.html#a8bcf44bc681e9e02122416aaa831fd9c">timer_period</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = </div>
<div class="line">                                                        <a class="code" href="global_8h.html#a92ae44371c8f02cda079839316bb120e" title="This function returns the maximum time that can be kept track of before it gets expired. (Eg : The time taken for running from 0xFFFFFFFF to 0x00000000)">get_timer_period</a>();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="comment">/* TODO :Later this should be made to obtain from Device Tree */</span></div>
<div class="line">    <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#aa974e9f8fcb63cfd61f3f47f0e08f033">free_run_clock_id</a> = 0;</div>
<div class="line">    <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#a6a2bec36e28f276b88ea52faa377f31b">tick_timer_id</a> = 1;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define SW_FREE_RUNNING_CNTR    timer_cpu_info.free_run_clock_id</span></div>
<div class="line"><span class="preprocessor"></span><span class="preprocessor">#define SW_TICKTIMER            timer_cpu_info.tick_timer_id</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line"></div>
<div class="line">    sw_timer_info.sw_timestamp.tval64 = 0;</div>
<div class="line">    sw_timer_info.abs_cycles_count = 0;</div>
<div class="line">    sw_timer_info.cycles_count_new = 0;</div>
<div class="line">    sw_timer_info.cycles_count_old = 0;</div>
<div class="line">    sw_timer_info.timer_period.tval64 = <a class="code" href="global_8h.html#a92ae44371c8f02cda079839316bb120e" title="This function returns the maximum time that can be kept track of before it gets expired. (Eg : The time taken for running from 0xFFFFFFFF to 0x00000000)">get_timer_period</a>();</div>
<div class="line">    sw_timer_info.clock_period.tval64 = <a class="code" href="global_8h.html#a1d1a50120ee870d594c772846ae7b638" title="This function returns the resolution which can be obtained with the given clock.">get_clock_period</a>();</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a26ea71463f065aaa1db5e341990adc7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a> read_timestamp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It updates and returns the current timestamp value. </p>
<dl class="section return"><dt>Returns</dt><dd></dd>
<dd>
The current timestamp value </dd></dl>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00304">304</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <a class="code" href="sw__types_8h.html#ad758b7a5c3f18ed79d2fcd23d9f16357">u64</a> tmp_cycles;</div>
<div class="line">    <a class="code" href="uniontimeval__t.html" title="Structure to represent the time in High resolution format( Resolution in Nano seconds)">timeval_t</a> tmp_timeval;</div>
<div class="line"></div>
<div class="line">    sw_timer_info.cycles_count_new = <a class="code" href="global_8h.html#aeb41968f065556efd8259c71df12988f" title="It reads and returns the value of the timer which is used as the free running counter.">read_freerunning_cntr</a>();</div>
<div class="line">    tmp_cycles = sw_timer_info.cycles_count_new - </div>
<div class="line">                                        sw_timer_info.cycles_count_old;</div>
<div class="line"></div>
<div class="line">    sw_timer_info.abs_cycles_count += tmp_cycles;</div>
<div class="line">    sw_timer_info.cycles_count_old = sw_timer_info.cycles_count_new;</div>
<div class="line"></div>
<div class="line">    tmp_timeval.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="cpu__api_8c.html#a1c97425d04c5c0494e087de87bf2c18c" title="This function converts the clockcycles to time in seconds and nanoseconds This function definition de...">clockcycles_to_timeval</a>(tmp_cycles);</div>
<div class="line">    sw_timer_info.sw_timestamp.tval64 = timeval_add(&amp;sw_timer_info.sw_timestamp,</div>
<div class="line">                                                                &amp;tmp_timeval);</div>
<div class="line"><span class="preprocessor">#ifdef TIMER_DBG</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;SW: Timestamp :  sec 0x%08x nsec 0x%08x \n&quot;</span>,</div>
<div class="line">            sw_timer_info.sw_timestamp.tval.sec,</div>
<div class="line">            sw_timer_info.sw_timestamp.tval.nsec);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span>    <span class="keywordflow">return</span> sw_timer_info.sw_timestamp.tval64;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a37105580638257400682808d9dd0d684"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtimer__event.html">timer_event</a>* timer_event_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="sw__timer_8h.html#af2a1579b25ee1ac4bddd632dff9276a4">sw_timer_event_handler</a>&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>priv_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">read</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is called to create a new timer event. It allocates the memory for timer event struct, initializes the elements and returns the structure. If it cannot allocate the memory then it returns NULL. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td></td></tr>
    <tr><td class="paramname">priv_data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>The handler which will be called on the expiration of the timer </td></tr>
    <tr><td class="paramname">priv_data</td><td>The data which may be needed by the handler</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-The <a class="el" href="structtimer__event.html">timer_event</a> structure allocated and initialized -NULL if it fails to allocate the structure </dd></dl>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00344">344</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structtimer__event.html">timer_event</a>* new_event;</div>
<div class="line">  </div>
<div class="line">    new_event = (<span class="keyword">struct </span><a class="code" href="structtimer__event.html">timer_event</a>*)<a class="code" href="sw__buddy_8h.html#ae6f063fadf564f51c72ac39a83d9b550">sw_malloc_private</a>(<a class="code" href="sw__buddy_8h.html#aec6635083e97f6d7929adfe2179dabdc">COMMON_HEAP_ID</a>,</div>
<div class="line">                                                    <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structtimer__event.html">timer_event</a>));</div>
<div class="line">    <span class="keywordflow">if</span>(!new_event){</div>
<div class="line">        <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;SW: Malloc failed in Creating New Timer event \n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span> <a class="code" href="sw__types_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="sw__mem__functions_8h.html#a14af1b39b1154a36624740bad34b813f" title="memory set">sw_memset</a>( new_event, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> <a class="code" href="structtimer__event.html">timer_event</a>));</div>
<div class="line">   </div>
<div class="line">    new_event-&gt;<a class="code" href="structtimer__event.html#a01948743648ab6aa905c88718864d8e3">clk_info</a> = &amp;<a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[<a class="code" href="sw__timer_8c.html#a8672374dcfaf2638029c194d6a89824c">SW_TICKTIMER</a>];</div>
<div class="line">    <a class="code" href="sw__list_8h.html#a0ffe9d28c36d7b018a9cfae33bae45c0">INIT_LIST_HEAD</a>(&amp;new_event-&gt;<a class="code" href="structtimer__event.html#afd05499da93e741a3b53da86d15c7a26">node</a>);</div>
<div class="line">    new_event-&gt;<a class="code" href="structtimer__event.html#a255eb37843c82205acb811f7c999558f">handler</a> = (<span class="keywordtype">void</span>*)<a class="code" href="structtimer__event.html#a255eb37843c82205acb811f7c999558f">handler</a>;</div>
<div class="line">    new_event-&gt;<a class="code" href="structtimer__event.html#a485beddab325bc129d6f64ef095b42ba">expires</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="sw__timer_8h.html#a35b2fd1a5f6b88bf3842ba3663e6f85e">TIMEVAL_MAX</a>;</div>
<div class="line">    new_event-&gt;<a class="code" href="structtimer__event.html#a0dab1a530fdd4a8af6a1979afac45614">state</a> = <a class="code" href="sw__timer_8h.html#a1fe05d0f8f4b530c917954508864ef67">TIMER_STATE_INACTIVE</a>;</div>
<div class="line">    new_event-&gt;<a class="code" href="structtimer__event.html#a0c0cd8e8d93d525667cfae032c56d0eb">callback_mode</a> = <a class="code" href="sw__timer_8h.html#ab435e99d43ff4980f2935354e41da10faebefe66542afed94c25f2d85b2399c48">TIMER_CALLBACK_HARDIRQ</a>;</div>
<div class="line">    new_event-&gt;<a class="code" href="structtimer__event.html#a869756e2844fbd8a9d226075bccf3671">data</a> = priv_data;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">return</span> new_event;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0060dc3f865566f66c7a445533afb847"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int timer_event_destroy </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtimer__event.html">timer_event</a> *&#160;</td>
          <td class="paramname"><em>tevent</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function deletes the timer event structure After expiration of the timer ,the application can choose to keep and reuse the same structure again or delete it.If it decides to delete the structure then this function is called. This function frees the memory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tevent</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tevent</td><td>The structure which needs to be deleted</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success -1 on failure </dd></dl>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00384">384</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(!tevent)</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(tevent-&gt;<a class="code" href="structtimer__event.html#a0dab1a530fdd4a8af6a1979afac45614">state</a> == <a class="code" href="sw__timer_8h.html#a1fe05d0f8f4b530c917954508864ef67">TIMER_STATE_INACTIVE</a>){</div>
<div class="line">        <a class="code" href="sw__buddy_8h.html#adf62b1f83e5f1afcdd6342ad9a747b76">sw_free_private</a>(<a class="code" href="sw__buddy_8h.html#aec6635083e97f6d7929adfe2179dabdc">COMMON_HEAP_ID</a>, tevent);</div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;SW: Timer Event in USE :Cannot Free this Timer Event \n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> -1;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae9578a02129a7b5c79e395fe76d4562c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_event_start </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structtimer__event.html">timer_event</a> *&#160;</td>
          <td class="paramname"><em>tevent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="uniontimeval__t.html">timeval_t</a> *&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It starts the timer event by calling the appropriate functions The time interval is written to the hardwire timer and the event is added to the list of events to be handled on timer expiry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tevent</td><td></td></tr>
    <tr><td class="paramname">time</td><td></td></tr>
    <tr><td class="paramname">tevent</td><td>The timer event which needed to be started </td></tr>
    <tr><td class="paramname">time</td><td>The time duration after which the event need to be expire </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00485">485</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <a class="code" href="uniontimeval__t.html" title="Structure to represent the time in High resolution format( Resolution in Nano seconds)">timeval_t</a> temp_time;</div>
<div class="line">    <a class="code" href="sw__types_8h.html#a426fa6e7d1eaa7c84e108835da641869">irq_flags_t</a> irqflags;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(!tevent)</div>
<div class="line">        return ;</div>
<div class="line"></div>
<div class="line">    temp_time.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="sw__timer_8h.html#a26ea71463f065aaa1db5e341990adc7d" title="It updates and returns the current timestamp value.">read_timestamp</a>();</div>
<div class="line">    time-&gt;<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> =  timeval_add(&amp;temp_time, time);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef TIMER_DBG</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;SW: Timer Event start time  sec 0x%08x nsec 0x%08x \n&quot;</span>,</div>
<div class="line">            time-&gt;<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a>,time-&gt;<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a85f38542a8fa84ce968e2297bf8f7487">nsec</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    timer_event_set_expire(tevent, time);</div>
<div class="line"></div>
<div class="line">    spin_lock_irqsave(&amp;tevent-&gt;<a class="code" href="structtimer__event.html#a01948743648ab6aa905c88718864d8e3">clk_info</a>-&gt;<a class="code" href="structtimer__clock__info.html#ab36d9db5095d55de592fbf79fbabddb4">spin_lock</a>, &amp;irqflags);</div>
<div class="line">    timer_queue_add(&amp;tevent-&gt;<a class="code" href="structtimer__event.html#a01948743648ab6aa905c88718864d8e3">clk_info</a>-&gt;<a class="code" href="structtimer__clock__info.html#a297fe3a0fc7efdc467d0b534bd5c8aae">active</a>, tevent); </div>
<div class="line">    spin_unlock_irqrestore(&amp;tevent-&gt;<a class="code" href="structtimer__event.html#a01948743648ab6aa905c88718864d8e3">clk_info</a>-&gt;<a class="code" href="structtimer__clock__info.html#ab36d9db5095d55de592fbf79fbabddb4">spin_lock</a>, irqflags);</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(<a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#aa79880aaf690b1462cd9dc48d196079d">expires_next</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> &gt; tevent-&gt;<a class="code" href="structtimer__event.html#a485beddab325bc129d6f64ef095b42ba">expires</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a>){</div>
<div class="line">        program_tick_for_event(tevent-&gt;<a class="code" href="structtimer__event.html#a485beddab325bc129d6f64ef095b42ba">expires</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a3ac98981aa3fa8b3464dd10584116865"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void timer_interrupt </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the function which is called on expiry of any timer event. This fn goes through the list of registered timer events. If the expiry time of the event is already in the past then the corresponding handler function is called. As the list is already sorted according to their time of expiration, the function returns either when it encounters the first event whose expiry time is in the future or when the list becomes empty. </p>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00548">548</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structtimer__clock__info.html">timer_clock_info</a>* clock_info;</div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structlist.html">list</a> *node;    </div>
<div class="line">    <span class="keyword">struct </span><a class="code" href="structtimer__event.html">timer_event</a>* tevent;</div>
<div class="line"></div>
<div class="line">    <a class="code" href="uniontimeval__t.html" title="Structure to represent the time in High resolution format( Resolution in Nano seconds)">timeval_t</a> expires_next, now, temp_time, time_diff;</div>
<div class="line">    expires_next.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="sw__timer_8h.html#a35b2fd1a5f6b88bf3842ba3663e6f85e">TIMEVAL_MAX</a>;</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef TIMER_DBG</span></div>
<div class="line"><span class="preprocessor"></span>    <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;SW: Inside timer interrupt\n&quot;</span>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">    clock_info = &amp;<a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#ac4ab45439b1a9387b3813053907dbc05">clock_info</a>[<a class="code" href="sw__timer_8c.html#a8672374dcfaf2638029c194d6a89824c">SW_TICKTIMER</a>];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">while</span>((node = timer_queue_getnext(&amp;clock_info-&gt;<a class="code" href="structtimer__clock__info.html#a297fe3a0fc7efdc467d0b534bd5c8aae">active</a>))){</div>
<div class="line"></div>
<div class="line">        tevent = <a class="code" href="sw__list_8h.html#a26c976b7f654e70df318c1843e5094de">list_entry</a>(node, <span class="keyword">struct</span> <a class="code" href="structtimer__event.html">timer_event</a>, node);</div>
<div class="line">        temp_time.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = timer_get_expire(tevent);</div>
<div class="line"></div>
<div class="line">        now.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="sw__timer_8h.html#a26ea71463f065aaa1db5e341990adc7d" title="It updates and returns the current timestamp value.">read_timestamp</a>();</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">        time_diff.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = timeval_sub(&amp;temp_time, &amp;now);</div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#ifdef TIMER_DBG</span></div>
<div class="line"><span class="preprocessor"></span>        <a class="code" href="sw__debug_8h.html#a501cc8c07cf94dc1a6269c0d3ba5a234">sw_printf</a>(<span class="stringliteral">&quot;SW: current 0x%x:0x%x and expires 0x%x:0x%x and diff 0x%x:0x%x\n&quot;</span>, </div>
<div class="line">                now.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a>, now.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a85f38542a8fa84ce968e2297bf8f7487">nsec</a>, </div>
<div class="line">                temp_time.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a>, temp_time.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a85f38542a8fa84ce968e2297bf8f7487">nsec</a>,</div>
<div class="line">                time_diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a>, time_diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a85f38542a8fa84ce968e2297bf8f7487">nsec</a>);</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor"></span></div>
<div class="line">        <span class="keywordflow">if</span>((time_diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a> &gt; 0) || </div>
<div class="line">            ((time_diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a> == 0) &amp;&amp; time_diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a85f38542a8fa84ce968e2297bf8f7487">nsec</a> &gt; 1000)) { </div>
<div class="line"><span class="comment">/*        if( now.tval64 &lt; temp_time.tval64){ */</span></div>
<div class="line">            <a class="code" href="uniontimeval__t.html" title="Structure to represent the time in High resolution format( Resolution in Nano seconds)">timeval_t</a> <a class="code" href="structtimer__event.html#a485beddab325bc129d6f64ef095b42ba">expires</a>;</div>
<div class="line"></div>
<div class="line">            expires = temp_time;</div>
<div class="line"></div>
<div class="line">            <span class="keywordflow">if</span>( expires.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> &lt; expires_next.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a>) </div>
<div class="line">                expires_next = <a class="code" href="structtimer__event.html#a485beddab325bc129d6f64ef095b42ba">expires</a>;</div>
<div class="line">            </div>
<div class="line">            program_tick_for_event(expires_next.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a>);</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        tevent-&gt;<a class="code" href="structtimer__event.html#a0dab1a530fdd4a8af6a1979afac45614">state</a> = <a class="code" href="sw__timer_8h.html#a0744ace9008c6b1ef132f350120ac579">TIMER_STATE_EXECUTING</a>;</div>
<div class="line">        __run_timer_handler(tevent);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <a class="code" href="structtimer__cpu__info.html">timer_cpu_info</a>.<a class="code" href="structtimer__cpu__info.html#aa79880aaf690b1462cd9dc48d196079d">expires_next</a>.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a> = <a class="code" href="sw__timer_8h.html#a35b2fd1a5f6b88bf3842ba3663e6f85e">TIMEVAL_MAX</a>;</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a80a9cef76712fd40db49dba06813eb3f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int timeval_after </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="uniontimeval__t.html">timeval_t</a> *&#160;</td>
          <td class="paramname"><em>value1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="uniontimeval__t.html">timeval_t</a> *&#160;</td>
          <td class="paramname"><em>value2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks whether value 1 comes after value2 If yes returns 1 else returns 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value1</td><td></td></tr>
    <tr><td class="paramname">value2</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">value1</td><td>Time value1 </td></tr>
    <tr><td class="paramname">value2</td><td>Time value 2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 - If value1 comes after value2 0 - If value2 comes after value1 </dd></dl>

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00159">159</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>
<div class="fragment"><div class="line">{   </div>
<div class="line">    <a class="code" href="uniontimeval__t.html" title="Structure to represent the time in High resolution format( Resolution in Nano seconds)">timeval_t</a> diff;</div>
<div class="line">    diff.<a class="code" href="uniontimeval__t.html#ad2bd856b9918d0953976ccb75ba2cbe2">tval64</a>  = timeval_sub(value1, value2);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span>(diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a> &gt; 0 ||</div>
<div class="line">            ((diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a9c6a9d36de22b39f398f77325ee07539">sec</a> == 0) &amp;&amp; (diff.<a class="code" href="uniontimeval__t.html#a8ad7ddf26aa2f31d18780864fbbae04c">tval</a>.<a class="code" href="uniontimeval__t.html#a85f38542a8fa84ce968e2297bf8f7487">nsec</a> &gt; 1000)))</div>
<div class="line">        <span class="keywordflow">return</span> 1;</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">        <span class="keywordflow">return</span> 0;</div>
<div class="line"></div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a0c89d2e15ec3253dc8b4c3da918aa080"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structtimer__cpu__info.html">timer_cpu_info</a> <a class="el" href="structtimer__cpu__info.html">timer_cpu_info</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="sw__timer_8c_source.html#l00039">39</a> of file <a class="el" href="sw__timer_8c_source.html">sw_timer.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 3 2013 00:33:53 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
